<link rel="stylesheet" href="~/css/ChatPage.css" asp-append-version="true" />

<div id="loadingIndicator" class="loading-indicator">
    <img src="https://media.tenor.com/w5DF_eXs5S4AAAAC/cardano-logo.gif" class="w-25" alt="Loader" />
</div>

<section style="background-color: #eee;" class="vh-100 d-none d-flex p-2 gap-1" id="ChatPageContent">
        <div class="col-md-6 col-lg-5 col-xl-4 mb-4 mb-md-0  border-end">
            <div class="mb-2 border-bottom" >

                <a class="text-black text-decoration-none" asp-controller="Home" asp-action="Index" >Home</a>
            </div>

            <div class="card" style="border-radius: 10px;">
                <div class="card-body">
                <ul class="list-unstyled mb-0" id="ChatRecipientList" style="overflow-y: scroll; height: 90vh;">
                        <li id="emptyTextForRecipients">No recipient, yet!</li>
                        <!--
                             <li class="p-2 border-bottom" style="background-color: #eee;" onclick="getNewRecipientWithData()">
                                 <a href="#!" class="d-flex justify-content-between text-decoration-none">
                                     <div class="d-flex flex-row">
                                         <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-8.webp" alt="avatar"
                                              class="rounded-circle d-flex align-self-center me-3 shadow-1-strong" width="60">
                                         <div class="pt-1">
                                             <p class="fw-bold mb-0">Model.Name Model.Surname</p>
                                             <p class="small text-muted">Hello, Are you there?</p>

                                         </div>
                                     </div>
                                     <div class="pt-1">
                                         <p class="small text-muted mb-1">Just now</p>
                                         <span class="badge bg-danger float-end">1</span>
                                     </div>
                                 </a>
                             </li>
                         -->
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-7 col-xl-8 d-flex flex-column d-none gap-1 vh-100" id="chatForm">
            <div>
                <div id="UserChatDisplay">
                </div>
                <!--<div class="w-100 d-flex gap-2 border-start" style="background-color: #f0f0f0;">
                    <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-6.webp" alt="avatar"
                         class="rounded-circle d-flex align-self-start me-3 shadow-1-strong" width="30">
                    <p class="text-black">Vusal Dadashov</p>
                </div>-->
                <ul class="list-unstyled p-2 d-flex flex-column " style="overflow-y: scroll; background-color: #e3e3e3; height: 80vh;" id="ChatMessagesList">

                    <!--<li class="d-flex justify-content-between mb-4">
                        <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-6.webp" alt="avatar"
                             class="rounded-circle d-flex align-self-start me-3 shadow-1-strong" width="60">
                        <div class="card" style="width: 90%;">
                            <div class="card-header d-flex justify-content-between p-2 pe-3 ps-3">
                                <p class="fw-bold mb-0">Brad Pitt</p>
                                <p class="text-muted small mb-0"><i class="far fa-clock"></i> 12 mins ago</p>
                            </div>
                            <div class="card-body">
                                <p class="mb-0">
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                                    labore et dolore magna aliqua.
                                </p>
                            </div>
                        </div>
                    </li>-->


                </ul>
            <div class="w-100 form-outline d-flex gap-2">
                <input type="text" class="form-control" id="UserMessageContent" placeholder="Type a message" onkeydown="sendMessageKeyHandler(event)" />
                <button type="button" class="btn btn-info btn-rounded align-self-end" onclick="sendMessage()">Send</button>
            </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-7 col-xl-8 d-flex justify-content-center align-items-center vh-100" id="chatPoster">
            <div class="d-flex flex-column align-items-center ">
                <img src="~/imgs/ChatSystemPoster.jpg" class="w-50" alt="ChatPoster" />
                <h2>Feel the speed of rocket.</h2>
                <p class="text-success">All chat system is free for you. Enjoy!</p>
            </div>
        </div>
</section>
<script src="~/js/signalr/dist/browser/signalr.js"></script>
<script src="~/js/Chat.js"></script>
<!-- Your JavaScript code goes here -->

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Show loading indicator
        document.getElementById("loadingIndicator").style.display = "block";

        // Simulate data loading (replace this with your actual data loading logic)
        setTimeout(function () {
            // Hide loading indicator
            document.getElementById("loadingIndicator").style.display = "none";

            // Show content
            document.getElementById("ChatPageContent").classList.remove("d-none")
        }, 2000); // Simulating a 2-second delay, replace with your actual data loading time
    });
</script>
